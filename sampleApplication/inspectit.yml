# https://inspectit.github.io/inspectit-ocelot/docs/instrumentation/rules#actions

inspectit:

  metrics:
    enabled: false

  instrumentation:
    scopes:
      fibonacci_scope:
        type: {name: net.explorviz.sampleApplication.application.math.Fibonacci}
        methods:
          - name: calculate

    rules:
      trace_fibonacci:
        scopes:
          fibonacci_scope: true
        tracing:
            start-span: true
            attributes:
              input: _arg0
              result: _returnValue
              host: host_name_attr
        entry:
          host_name_attr:
           action: host_name

    actions:

      #computes a nanosecond-timestamp as a long for the current point in time
      host_name:
        imports:
          - java.net.InetAddress
        value-body: |
          InetAddress ip = InetAddress.getLocalHost();
          return ip.getHostName();

  logging:
    debug: true
    trace: false

  exporters:
    tracing:
      open-census-agent:
        address: "localhost:55678"
        service-name: "Alex sein Test - OpenCensus"
        use-insecure: true
